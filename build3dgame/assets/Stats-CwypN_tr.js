import{y as P,r as w,z as M,F as A}from"./react-three-fiber.esm-C_InriM3.js";var E={exports:{}},C=E.exports,b;function D(){return b||(b=1,(function(p,u){(function(f,e){p.exports=e()})(C,function(){var f=function(){function e(l){return a.appendChild(l.dom),l}function r(l){for(var o=0;o<a.children.length;o++)a.children[o].style.display=o===l?"block":"none";i=l}var i=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",function(l){l.preventDefault(),r(++i%a.children.length)},!1);var c=(performance||Date).now(),s=c,t=0,x=e(new f.Panel("FPS","#0ff","#002")),g=e(new f.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var S=e(new f.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:a,addPanel:e,showPanel:r,begin:function(){c=(performance||Date).now()},end:function(){t++;var l=(performance||Date).now();if(g.update(l-c,200),l>s+1e3&&(x.update(1e3*t/(l-s),100),s=l,t=0,S)){var o=performance.memory;S.update(o.usedJSHeapSize/1048576,o.jsHeapSizeLimit/1048576)}return l},update:function(){c=this.end()},domElement:a,setMode:r}};return f.Panel=function(e,r,i){var a=1/0,c=0,s=Math.round,t=s(window.devicePixelRatio||1),x=80*t,g=48*t,S=3*t,l=2*t,o=3*t,d=15*t,m=74*t,v=30*t,h=document.createElement("canvas");h.width=x,h.height=g,h.style.cssText="width:80px;height:48px";var n=h.getContext("2d");return n.font="bold "+9*t+"px Helvetica,Arial,sans-serif",n.textBaseline="top",n.fillStyle=i,n.fillRect(0,0,x,g),n.fillStyle=r,n.fillText(e,S,l),n.fillRect(o,d,m,v),n.fillStyle=i,n.globalAlpha=.9,n.fillRect(o,d,m,v),{dom:h,update:function(y,R){a=Math.min(a,y),c=Math.max(c,y),n.fillStyle=i,n.globalAlpha=1,n.fillRect(0,0,x,d),n.fillStyle=r,n.fillText(s(y)+" "+e+" ("+s(a)+"-"+s(c)+")",S,l),n.drawImage(h,o+t,d,m-t,v,o,d,m-t,v),n.fillRect(o+m-t,d,t,v),n.fillStyle=i,n.globalAlpha=.9,n.fillRect(o+m-t,d,t,s((1-y/R)*v))}}},f})})(E)),E.exports}var I=D();const L=P(I);function _(p,u=[],f){const[e,r]=w.useState();return w.useLayoutEffect(()=>{const i=p();return r(i),()=>void 0},u),e}function z({showPanel:p=0,className:u,parent:f}){const e=_(()=>new L,[]);return w.useEffect(()=>{if(e){const r=f&&f.current||document.body;e.showPanel(p),r?.appendChild(e.dom);const i=(u??"").split(" ").filter(s=>s);i.length&&e.dom.classList.add(...i);const a=M(()=>e.begin()),c=A(()=>e.end());return()=>{i.length&&e.dom.classList.remove(...i),r?.removeChild(e.dom),a(),c()}}},[f,e,u,p]),null}export{z as S};
